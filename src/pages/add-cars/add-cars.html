<ion-header>
  <ion-navbar color="headers">
    <ion-title>Add Product Car</ion-title>
  </ion-navbar>
</ion-header>


<ion-content style="overflow: hidden;height: 100vh">
  <ion-slides #formslides style="height: 80vh">
      <ion-slide style="height: 100vh">
        <ion-card style="max-height: 100vh; height: 100vh;">
            <ion-card-header>
              Step 1/4
            </ion-card-header>
            <hr>
            <ion-card-content>
              <ion-list>
                  <ion-item style="color: red" *ngIf="errormessage">
                      {{errormessage}}
                      </ion-item>
                <div *ngIf="!unknowncar" >
                    <ion-item>
                        <ion-label>Select Brand</ion-label>
                        <ion-select >
                          <ion-option [selected]="b.car_company_name == 'All Brands'" (ionSelect)="updateModels(b)" *ngFor="let b of carbrands">{{b.car_company_name}}</ion-option>
                        </ion-select>
                      </ion-item>
                      <ion-item *ngIf="form1data.brand != null">
                        <ion-label>Select Model</ion-label>
                        <ion-select >
                          <ion-option (ionSelect)="storeModel(m)"  *ngFor="let m of carmodels">{{m.car_model}}</ion-option>
                        </ion-select>
                      </ion-item>

                      <ion-item *ngIf="form1data.brand == null">
                        <p>Select a brand to choose models</p>
                      </ion-item>
                </div>

                <div *ngIf="unknowncar" >
                    <ion-item>
                      <ion-label stacked>
                        Car Brand
                      </ion-label>
                      <ion-input [(ngModel)]="form1data.brand" placeholder="Enter Car Brand">
                      </ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>
                        Car Model
                      </ion-label>
                      <ion-input [(ngModel)]="form1data.model" placeholder="Enter Car Model">
                      </ion-input>
                    </ion-item>
                </div>
                  <ion-item>
                    <ion-label>Not In List</ion-label>
                    <ion-checkbox [(ngModel)]="unknowncar" (ionChange)="switchInputMethod()">
                    </ion-checkbox>
                  </ion-item>

                  <ion-item>
                    <ion-label>Car Type</ion-label>
                    <ion-select interface="popover" >
                      <ion-option (ionSelect)="storeType(type)" *ngFor="let type of cartypes" >
                        {{type.type}}
                      </ion-option>
                    </ion-select>
                  </ion-item>
              </ion-list>
            </ion-card-content>
        </ion-card>
      </ion-slide>
      <ion-slide style="height: 100vh">
        <ion-card style="height: 100vh;">
            <ion-card-header>
              Step 2/4
            </ion-card-header>
            <hr>
            <ion-scroll direction="y" scrollY="true" style="height: 80%;">
            <ion-card-content >
                <ion-list >
                    <ion-item style="color: red" *ngIf="errormessage">
                        {{errormessage}}
                        </ion-item>

                    <ion-item>
                      <ion-label stacked>
                        No Of Seats
                      </ion-label>
                      <ion-input (ionChange)="errormessage=''" type="number" [(ngModel)]="form2data.no_of_seats" placeholder="No. Of Seats">

                      </ion-input>
                    </ion-item>
                    <ion-row>
                      <ion-col>
                        <ion-label stacked>
                          Minimum Hire Period (in Hrs)
                        </ion-label>
                        <ion-input type="number" [(ngModel)]="form2data.min_hire_period" placeholder="Min. Hire Period">
                        </ion-input>
                      </ion-col>
                      <ion-col>
                        <ion-label stacked>
                          Maximum Hire Period (in Hrs)
                        </ion-label>
                        <ion-input type="number" [(ngModel)]="form2data.max_hire_period" placeholder="Max. Hire Period">
                        </ion-input>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col>
                        <ion-label stacked>
                          Minimum Hire Distance (in KM)
                        </ion-label>
                        <ion-input type="number" [(ngModel)]="form2data.min_hire_distance" placeholder="Min. Hire Distance">
                        </ion-input>
                      </ion-col>
                      <ion-col>
                        <ion-label stacked>
                          Maximum Hire Distance (in KM)
                        </ion-label>
                        <ion-input type="number" [(ngModel)]="form2data.max_hire_distance" placeholder="Max. Hire Distance">
                        </ion-input>
                      </ion-col>
                    </ion-row>
                    <ion-label>
                      Price Rate (Non-AC)
                    </ion-label>
                    <ion-row>
                        <ion-col>
                          <ion-label stacked>Per Hour</ion-label>
                          <ion-input type="number" [(ngModel)]="form2data.car_price_hour" placeholder="Non-AC Price">
                          </ion-input>
                        </ion-col>
                        <ion-col>
                          <ion-label stacked>Per KM</ion-label>
                          <ion-input type="number" [(ngModel)]="form2data.car_price_kil" placeholder="Non-AC Price">
                          </ion-input>
                        </ion-col>
                    </ion-row>
                    <ion-item>
                      <ion-label>AC Available</ion-label>
                      <ion-checkbox (ionChange)="clearAcRates()" [(ngModel)]="ac_available" ></ion-checkbox>
                    </ion-item>
                    <div *ngIf="ac_available" >
                        <ion-label>
                            Price Rate (AC)
                          </ion-label>
                          <ion-row>
                              <ion-col>
                                <ion-label stacked>Per Hour</ion-label>
                                <ion-input type="number" [(ngModel)]="form2data.ac_car_price_hour" placeholder="AC Price">

                                </ion-input>
                              </ion-col>
                              <ion-col>
                                <ion-label stacked>Per KM</ion-label>
                                <ion-input type="number" [(ngModel)]="form2data.ac_car_price_kil" placeholder="AC Price">

                                </ion-input>
                              </ion-col>
                          </ion-row>
                    </div>
                    <ion-item>
                      <ion-label stacked>
                        Advance Amount
                      </ion-label>
                      <ion-input type="number" [(ngModel)]="form2data.book_advance" placeholder="Advance Amount"></ion-input>
                    </ion-item>

                    <ion-item style="margin-bottom: 80px">
                      <ion-label stacked>Search Tags (comma separated)</ion-label>
                      <ion-input type="text" [(ngModel)]="form2data.car_tags" placeholder="Car Search Tags"></ion-input>
                    </ion-item>

                </ion-list>
              </ion-card-content>
              </ion-scroll>
        </ion-card>
      </ion-slide>
      <ion-slide style="height: 100vh">
            <ion-card style="height: 100vh;">
                <ion-card-header>
                  Step 3/4
                </ion-card-header>
                <hr>
                <hr>
                <button ion-button (click)="pickImage()" >Pick Image</button>
            <ion-scroll direction="y" scrollY="true" style="height: 80%;">
                <ion-card-content>

                    <ion-grid>
                          <ion-row>
                              <ion-col>
                                  <ion-card *ngFor="let img of imagesleft"  style="position: relative" >
                                      <img src="{{'data:image/jpeg;base64,' + img}}">
                                    <div style="position: absolute; right: 2%; top: 2%" >
                                        <ion-icon (click)="removeImage(img)" style="color: red;font-size: 50px" name="close-circle" ></ion-icon>
                                    </div>
                                      </ion-card>
                              </ion-col>
                              <ion-col>
                                  <ion-card *ngFor="let img of imagesright"  style="position: relative" >
                                      <img src="{{'data:image/jpeg;base64,' + img}}">
                                    <div style="position: absolute; right: 2%; top: 2%" >
                                        <ion-icon (click)="removeImage(img)" style="color: red;font-size: 50px" name="close-circle" ></ion-icon>
                                    </div>
                                      </ion-card>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                  </ion-card-content>
                  <div  style="margin-bottom: 80px" ></div>
                  </ion-scroll>
            </ion-card>

      </ion-slide>
      <ion-slide style="height: 100vh">
        <ion-card style="height: 100vh;">
            <ion-card-header>
              Step 4/4
            </ion-card-header>
            <hr>
            <ion-card-content>
              You have successfully added all details, click to upload this product!
            </ion-card-content>
        </ion-card>
      </ion-slide>
  </ion-slides>
  <hr>
  <ion-row style="height: fit-content" no-padding>
      <ion-col style="width: 25%">
        <div *ngIf="pageNo != 0">
            <ion-icon (click)="goToPrev()" style="font-size: 30px; position: absolute;left: 20px;" name="ios-arrow-back"></ion-icon>
        </div>
          </ion-col>
      <ion-col style="height: 100%; width: 50%">
          <ion-slides #sliderbubbles pager style=" width: 100%;height:30px;">
              <ion-slide *ngFor="let s of slides">
              </ion-slide>
          </ion-slides>
      </ion-col>
      <ion-col style="width: 25%">
        <div *ngIf="pageNo < (len-1)">
            <ion-icon (click)="goToNext()" style="font-size: 30px; position: absolute;right: 20px;" name="ios-arrow-forward"></ion-icon>
        </div>
        <div *ngIf="pageNo == (len-1)">
            <ion-icon (click)="goToNext()" style="font-size: 30px; position: absolute;right: 20px;" name="checkmark-circle-outline"></ion-icon>
        </div>
          </ion-col>
  </ion-row>
</ion-content>

